!function(t){"use strict"}(angular.module("bm.bsTour",[])),function(t){"use strict";angular.module("bm.bsTour").provider("TourConfig",[function(){var t={prefixOptions:!1,prefix:"bsTour"};this.set=function(e,n){t[e]=n},this.$get=[function(){var e={};return e.get=function(e){return t[e]},e}]}])}(),function(t){"use strict";angular.module("bm.bsTour").controller("TourController",["$filter","$timeout",function(t,e){function n(e){var n=t("orderBy")(e,"order");return angular.forEach(n,function(t,e){t.next=n[e+1]?e+1:-1,t.prev=e-1}),n}var r,o=this,a=[],u=angular.noop,i={};o.refreshTour=function(){(a=a.filter(function(t){return t!==i}))[0]&&a[0].redirectPrev&&a.unshift(i),a[a.length-1]&&a[a.length-1].redirectNext&&a.push(i),r&&(r._options.steps=[],r.addSteps(n(a)))},o.addStep=function(t){~a.indexOf(t)||(a.push(t),o.refreshTour(),u(t))},o.removeStep=function(t){~a.indexOf(t)&&(a.splice(a.indexOf(t),1),o.refreshTour())},o.getSteps=function(){return a},o.waitFor=function(t){r.end(),u=function(n){n.stepId===t&&(r.setCurrentStep(a.indexOf(n)),e(function(){r.start(!0)}))}},o.init=function(t){return t.steps=n(a),r=new Tour(t)}}])}(),function(t){"use strict";function e(){return["TourHelpers",function(t){return{restrict:"EA",scope:!0,controller:"TourController",link:function(e,n,r,o){var a,u={},i="onStart onEnd afterGetState afterSetState afterRemoveState onShow onShown onHide onHidden onNext onPrev onPause onResume".split(" "),c="name container keyboard storage debug redirect duration basePath backdrop orphan".split(" ");t.attachInterpolatedValues(r,u,c),t.attachEventHandlers(e,r,u,i),a=t.attachTemplate(e,r,u),e.$watchCollection(o.getSteps,function(t){e.stepCount=t.length}),r.tourOptions&&angular.extend(u,e.$eval(r.tourOptions)),r[t.getAttrName("options")]&&angular.extend(u,e.$eval(r[t.getAttrName("options")])),a.then(function(){e.tour=o.init(u),e.tour.refresh=o.refreshTour})}}}]}t.directive("tour",e()),t.directive("bsTour",e())}(angular.module("bm.bsTour")),function(t){"use strict";angular.module("bm.bsTour").factory("TourHelpers",["$templateCache","$http","$compile","TourConfig","$q",function(t,e,n,r,o){function a(t,e){return function(){var r=angular.element(t);return n(r)(e)}}function u(t){return"true"===t||"false"!==t&&t}var i,c={};return i=c.safeApply=function(t,e){var n=t.$$phase;"$apply"===n||"$digest"===n?e&&"function"==typeof e&&e():t.$apply(e)},c.attachTemplate=function(n,r,u){var i,s=o.defer();return r[c.getAttrName("template")]?(i=a(n.$eval(r[c.getAttrName("template")]),n),u.template=i,s.resolve(i)):r[c.getAttrName("templateUrl")]?function(n,r){return e.get(n,{cache:t}).then(function(t){return t.data?a(t.data,r):""})}(r[c.getAttrName("templateUrl")],n).then(function(t){t&&(u.template=t,s.resolve(t))}):s.resolve(),s.promise},c.attachEventHandlers=function(t,e,n,r){angular.forEach(r,function(r){e[c.getAttrName(r)]&&(n[r]=function(n){i(t,function(){t.$eval(e[c.getAttrName(r)])})})})},c.attachInterpolatedValues=function(t,e,n){angular.forEach(n,function(n){t[c.getAttrName(n)]&&(e[n]=u(t[c.getAttrName(n)]),t.$observe(c.getAttrName(n),function(t){e[n]=u(t)}))})},c.getAttrName=function(t){return r.get("prefixOptions")?r.get("prefix")+t.charAt(0).toUpperCase()+t.substr(1):t},c}])}(),function(t){"use strict";function e(){return["TourHelpers","$location",function(t,e){return{restrict:"EA",scope:!0,require:"^tour",link:function(n,r,o,a){function u(r,o,u){var i=p[r];p[r]=function(r){i&&i(r),a.waitFor(u),t.safeApply(n,function(){e.path(o)})}}var i,c,s,p={element:r,stepId:o.tourStep},l="onShow onShown onHide onHidden onNext onPrev onPause onResume".split(" "),f="content title path animation container placement backdrop redirect orphan reflex duration nextStep prevStep nextPath prevPath".split(" ");t.attachInterpolatedValues(o,p,f),i=o.$observe(t.getAttrName("order"),function(t){p.order=isNaN(1*t)?0:1*t,a.refreshTour()}),t.attachEventHandlers(n,o,p,l),s=t.attachTemplate(n,o,p),c=n.$watch(function(){var e;return o[t.getAttrName("skip")]&&(e=n.$eval(o[t.getAttrName("skip")])),e||(e=!!p.path||r.is(":hidden")&&!o.availableWhenHidden),e},function(t){t?a.removeStep(p):a.addStep(p)}),n.$on("$destroy",function(){a.removeStep(p),i(),c()}),o[t.getAttrName("options")]&&angular.extend(p,n.$eval(o[t.getAttrName("options")])),p.nextPath&&(p.redirectNext=!0,u("onNext",p.nextPath,p.nextStep)),p.prevPath&&(p.redirectPrev=!0,u("onPrev",p.prevPath,p.prevStep)),s.then(function(){a.addStep(p),n.tourStep=p})}}}]}t.directive("tourStep",e()),t.directive("bsTourStep",e())}(angular.module("bm.bsTour"));